---
import ProductCard from "@/components/catalog/ProductCard.astro";
import { ProductService } from "@/services/productService";

const products = await ProductService.getFeatured(4);
---

<section class="section-padding bg-accent/30">
	<div class="container-custom">
		<div
			class="flex flex-col md:flex-row md:items-end justify-between gap-8 mb-16"
		>
			<div class="max-w-xl text-left">
				<h2 class="text-4xl md:text-5xl font-black mb-6">
					Réplicas <span class="text-primary">Destacadas</span>
				</h2>
				<p class="text-secondary/60 text-lg">
					Una selección de nuestras réplicas CAT más solicitadas.
					Modelos a escala con detalle de colección.
				</p>
			</div>
			<a
				href="/catalog"
				class="text-secondary font-bold uppercase tracking-widest flex items-center gap-2 hover:text-primary transition-colors pb-2 border-b-2 border-primary/20 hover:border-primary"
			>
				Ver todo el catálogo
			</a>
		</div>

		{products.length > 0 ? (
			<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
				{products.map((product) => (
					<ProductCard
						id={product.id!}
						title={product.title}
						category={product.category_name || ""}
						image={product.main_image}
						price={product.price}
						status={product.status}
					/>
				))}
			</div>
		) : (
			<div class="text-center py-16">
				<p class="text-secondary/40 text-lg font-medium">
					Próximamente nuevos productos destacados.
				</p>
				<a
					href="/catalog"
					class="inline-block mt-4 text-primary font-bold uppercase tracking-widest text-sm hover:underline"
				>
					Explorar catálogo
				</a>
			</div>
		)}
	</div>
</section>
