---

---

<div id="delete-modal" class="fixed inset-0 z-100 hidden">
	<div class="absolute inset-0 bg-secondary/60 backdrop-blur-sm"></div>
	<div class="absolute inset-0 flex items-center justify-center p-4">
		<div
			class="bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 animate-in fade-in zoom-in duration-300"
		>
			<div
				class="w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center text-primary mb-6"
			>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="32"
					height="32"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2.5"
					stroke-linecap="round"
					stroke-linejoin="round"
					><path d="M3 6h18"></path><path
						d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path
						d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path><line
						x1="10"
						y1="11"
						x2="10"
						y2="17"></line><line x1="14" y1="11" x2="14" y2="17"
					></line></svg
				>
			</div>
			<h3 class="text-2xl font-black mb-2">¿Eliminar usuario?</h3>
			<p class="text-secondary/60 text-sm leading-relaxed mb-8">
				Estás por eliminar a <span
					id="delete-user-name"
					class="font-bold text-secondary"></span>. Esta acción no se
				puede deshacer y el usuario perderá acceso inmediato.
			</p>
			<div class="flex items-center gap-4">
				<button
					id="close-modal"
					class="grow bg-accent/50 hover:bg-accent text-secondary font-bold py-4 rounded-xl transition-all cursor-pointer"
					>Cancelar</button
				>
				<form
					id="delete-form"
					method="POST"
					action="/admin/users/delete"
					class="grow"
				>
					<input type="hidden" name="id" id="delete-user-id" />
					<button
						type="submit"
						class="w-full bg-primary hover:bg-primary-dark text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-primary/20 cursor-pointer"
						>Eliminar</button
					>
				</form>
			</div>
		</div>
	</div>
</div>

<script>
	const modal = document.getElementById("delete-modal");
	const closeBtn = document.getElementById("close-modal");
	const deleteBtns = document.querySelectorAll(".delete-user-btn");
	const userNameSpan = document.getElementById("delete-user-name");
	const userIdInput = document.getElementById(
		"delete-user-id",
	) as HTMLInputElement;

	deleteBtns.forEach((btn) => {
		btn.addEventListener("click", () => {
			const id = btn.getAttribute("data-id");
			const name = btn.getAttribute("data-name");
			if (userNameSpan) userNameSpan.textContent = name;
			if (userIdInput) userIdInput.value = id || "";
			modal?.classList.remove("hidden");
		});
	});

	closeBtn?.addEventListener("click", () => {
		modal?.classList.add("hidden");
	});

	modal?.addEventListener("click", (e) => {
		if (e.target === modal.children[0]) {
			modal.classList.add("hidden");
		}
	});

	// Handle ESC key
	window.addEventListener("keydown", (e) => {
		if (e.key === "Escape" && !modal?.classList.contains("hidden")) {
			modal?.classList.add("hidden");
		}
	});
</script>
