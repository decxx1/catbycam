---
const { users } = Astro.props;
---

<div
	class="bg-white rounded-3xl border border-secondary/5 shadow-sm overflow-hidden text-left"
>
	<div
		class="p-8 border-b border-secondary/5 flex items-center justify-between"
	>
		<h3 class="font-bold text-lg">Últimos usuarios registrados</h3>
		<a
			href="/admin/users"
			class="text-xs font-bold uppercase tracking-widest text-primary hover:underline"
			>Ver todos</a
		>
	</div>

	<table class="w-full">
		<thead>
			<tr class="text-left bg-accent/5">
				<th
					class="px-8 py-4 text-[10px] font-bold uppercase tracking-widest text-secondary/40"
					>Nombre</th
				>
				<th
					class="px-8 py-4 text-[10px] font-bold uppercase tracking-widest text-secondary/40"
					>Email</th
				>
				<th
					class="px-8 py-4 text-[10px] font-bold uppercase tracking-widest text-secondary/40"
					>Fecha Registro</th
				>
			</tr>
		</thead>
		<tbody class="divide-y divide-secondary/5">
			{
				users.map((user: any) => (
					<tr class="hover:bg-accent/5 transition-colors">
						<td class="px-8 py-5 font-bold text-sm tracking-tight">
							{user.name}
						</td>
						<td class="px-8 py-5 text-sm text-secondary/60">
							{user.email}
						</td>
						<td class="px-8 py-5 text-sm text-secondary/40">
							{new Date(user.created_at).toLocaleDateString()}
						</td>
					</tr>
				))
			}
			{
				users.length === 0 && (
					<tr>
						<td
							colspan="3"
							class="px-8 py-10 text-center text-secondary/30 italic text-sm"
						>
							No hay usuarios registrados aún.
						</td>
					</tr>
				)
			}
		</tbody>
	</table>
</div>
