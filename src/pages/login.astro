---
export const prerender = false;
import Layout from "@/layouts/Layout.astro";
import UserLoginForm from "@/components/auth/UserLoginForm.vue";
import { auth } from "@/lib/auth";

// Si ya está autenticado, redirigir al perfil
const session = await auth.api.getSession({
	headers: Astro.request.headers,
});

if (session) {
	return Astro.redirect("/profile");
}

let error = "";
---

<Layout title="Iniciar Sesión" robots="noindex, nofollow">
	<section
		class="min-h-screen pt-40 pb-20 bg-accent/20 flex items-center justify-center"
	>
		<div class="container-custom">
			<UserLoginForm error={error} client:load />
		</div>
	</section>
</Layout>
