---
export const prerender = false;
import Layout from "@/layouts/Layout.astro";
import UserRegisterForm from "@/components/auth/UserRegisterForm.vue";
import { auth } from "@/lib/auth";

// Si ya est√° autenticado, redirigir al perfil
const session = await auth.api.getSession({
	headers: Astro.request.headers,
});

if (session) {
	return Astro.redirect("/profile");
}

let error = "";
---

<Layout title="Registrarse" robots="noindex, nofollow">
	<section
		class="min-h-screen pt-40 pb-20 bg-accent/20 flex items-center justify-center"
	>
		<div class="container-custom">
			<UserRegisterForm error={error} client:load />
		</div>
	</section>
</Layout>
