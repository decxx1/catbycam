---
export const prerender = false;
import AdminLayout from "@/layouts/admin.astro";
import AdminPageHeader from "@/components/admin/common/AdminPageHeader.astro";
import NotificationsManager from "@/components/admin/NotificationsManager.vue";
import { requireAdmin } from "@/utils/adminAuth";

const auth = await requireAdmin(Astro.cookies);
if ('redirect' in auth) return Astro.redirect(auth.redirect);
const { user } = auth;
---

<AdminLayout title="Notificaciones" {user}>
	<AdminPageHeader
		title="Notificaciones"
		subtitle="Gestiona todas las notificaciones del sistema."
	/>

	<div class="mt-8">
		<NotificationsManager client:only="vue" />
	</div>
</AdminLayout>
