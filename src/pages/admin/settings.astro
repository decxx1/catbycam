---
export const prerender = false;
import AdminLayout from "@/layouts/admin.astro";
import AdminPageHeader from "@/components/admin/common/AdminPageHeader.astro";
import SettingsManager from "@/components/admin/SettingsManager.vue";
import { requireAdmin } from "@/utils/adminAuth";

const auth = await requireAdmin(Astro.cookies);
if ('redirect' in auth) return Astro.redirect(auth.redirect);
const { user } = auth;
---

<AdminLayout title="Configuración" {user}>
  <AdminPageHeader 
    title="Configuración" 
    subtitle="Administra las configuraciones del sistema"
  />
  <SettingsManager client:load />
</AdminLayout>
