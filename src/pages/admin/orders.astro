---
export const prerender = false;
import AdminLayout from "@/layouts/admin.astro";
import AdminPageHeader from "@/components/admin/common/AdminPageHeader.astro";
import OrdersDashboard from "@/components/admin/OrdersDashboard.vue";
import { requireAdmin } from "@/utils/adminAuth";

const auth = await requireAdmin(Astro.cookies);
if ('redirect' in auth) return Astro.redirect(auth.redirect);
const { user } = auth;
---

<AdminLayout title="GestiÃ³n de Pedidos" {user}>
	<AdminPageHeader
		title="Pedidos"
		subtitle="Administra los pedidos de tus clientes."
	/>

	<div class="mt-8">
		<OrdersDashboard client:only="vue" />
	</div>
</AdminLayout>
